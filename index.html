<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO & METADATA -->
    <title>RADIOHEAD | EUROPE 2025</title>
    <meta name="description" content="Interactive archival map of the Radiohead Europe 2025 Tour. Explore concert dates, cities, setlists, and live video recordings in an immersive digital experience.">
    <meta name="keywords" content="Radiohead, Europe 2025, Tour, Concerts, Thom Yorke, Jonny Greenwood, Live Music, Interactive Map, Setlist, Archives">
    <meta name="author" content="Radiohead Tour Archives">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://radiohead.com/europe2025">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23000'/%3E%3Ctext x='50' y='75' font-family='Arial Black,sans-serif' font-size='80' font-weight='bold' fill='%23ccff00' text-anchor='middle'%3ER%3C/text%3E%3C/svg%3E">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://radiohead.com/europe2025">
    <meta property="og:title" content="RADIOHEAD | EUROPE 2025">
    <meta property="og:description" content="Interactive archival map of the Radiohead Europe 2025 Tour. Explore concert dates and live videos.">
    <meta property="og:image" content="https://radiohead.com/b1b.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="RADIOHEAD | EUROPE 2025">
    <meta property="twitter:description" content="Interactive archival map of the Radiohead Europe 2025 Tour.">
    <meta property="twitter:image" content="https://radiohead.com/b1b.jpg">

    <style>
        /* --- FONTS & BASE --- */
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Syne+Mono&family=Xanh+Mono&display=swap');

        :root {
            --rh-black: #050505;
            --rh-white: #e0e0e0;
            --rh-red: #ff3300;
            --rh-acid: #ccff00;
            --rh-dim: #333;
            --rh-code-bg: rgba(0, 0, 0, 0.8);
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--rh-black);
            font-family: 'Share Tech Mono', monospace;
            color: var(--rh-white);
            cursor: crosshair;
            position: fixed;
            top: 0;
            left: 0;
        }

        /* --- SKIP LINK (Accessibility) --- */
        .skip-link {
            position: fixed;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--rh-acid);
            color: var(--rh-black);
            padding: 12px 24px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.9rem;
            text-decoration: none;
            z-index: 9999;
            transition: top 0.2s;
        }

        .skip-link:focus {
            top: 10px;
            outline: 2px solid var(--rh-white);
            outline-offset: 2px;
        }

        /* --- BACKGROUND --- */
        #bg-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0.4;
            filter: contrast(140%) grayscale(100%) brightness(0.6);
            z-index: 0;
        }
        
        #noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 1;
            opacity: 0.12;
            background: url('data:image/svg+xml;utf8,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noiseFilter"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="3" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noiseFilter)"/%3E%3C/svg%3E');
        }

        /* --- HUGE YEAR DISPLAY --- */
        #tour-year-display {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Xanh Mono', monospace;
            font-size: clamp(80px, 18vw, 350px);
            font-weight: 400;
            color: var(--rh-acid);
            opacity: 0.15;
            z-index: 2;
            pointer-events: none;
            letter-spacing: 2vw;
            text-shadow: 0 0 20px rgba(204, 255, 0, 0.2);
            white-space: nowrap;
            mix-blend-mode: overlay;
        }

        /* --- TITLE --- */
        #main-title-img {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70vw;
            max-width: 800px;
            mix-blend-mode: exclusion;
            pointer-events: none;
            z-index: 3;
            opacity: 0.7;
        }

        /* --- SVG LINES LAYER --- */
        #connections-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            pointer-events: none;
        }

        path.connector {
            fill: none;
            stroke: var(--rh-white);
            stroke-width: 2;
            stroke-dasharray: 2, 4;
            vector-effect: non-scaling-stroke;
            opacity: 0.6;
        }

        /* --- LAYOUT CONTAINERS --- */
        /* Container for graphical elements (thumbs) */
        #app-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* No z-index - let individual thumbs control stacking */
            pointer-events: none; /* Let clicks pass to background/shards */
            overflow: hidden; /* Prevent spiral overflow from causing scroll */
        }

        /* Container for text labels */
        #labels-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* No z-index - let individual labels control stacking */
            pointer-events: none;
        }

        /* --- CITY LABELS (Text) --- */
        .city-label-wrapper {
            position: absolute;
            transform: translate(-50%, -50%);
            text-align: center;
            pointer-events: auto;
            display: inline-block;
            z-index: 80; /* Above non-hovered thumbs, below hovered thumbs */
        }

        .city-name {
            font-family: 'Xanh Mono', monospace;
            font-size: 2.5rem;
            text-transform: uppercase;
            font-weight: bold;
            color: var(--rh-white);
            background: var(--rh-black);
            padding: 4px 12px;
            border: 1px solid var(--rh-dim);
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(0,0,0,0.8);
            display: block;
        }

        .city-name:hover {
            background: var(--rh-white);
            color: var(--rh-black);
            border-color: var(--rh-white);
        }

        .city-date {
            font-family: 'Share Tech Mono', monospace;
            font-size: 1rem;
            color: var(--rh-acid);
            background: #000;
            padding: 2px 6px;
            position: absolute;
            top: -18px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            border: 1px solid var(--rh-acid);
            z-index: 1;
            letter-spacing: 1px;
        }

        /* --- THUMBNAILS --- */
        .thumb {
            position: absolute;
            background-color: #222;
            background-size: cover;
            background-position: center;
            border: 1px solid #444;
            border-radius: 6px;
            pointer-events: auto;
            cursor: pointer;
            transition: all 0.15s ease-out;
            opacity: 0.9;
            transform-origin: center center;
            z-index: 10; /* Above background elements (logo z-index: 3), below city labels (80) */
        }

        .thumb:hover,
        .thumb:focus {
            width: 495px;
            height: 279px;
            z-index: 1500 !important; /* Still high, but well below #labels-container (4000) */
            filter: none;
            opacity: 1;
            border: 2px solid var(--rh-acid);
            box-shadow: 0 10px 30px rgba(0,0,0,0.9);
            outline: none;
        }

        .thumb:focus-visible {
            box-shadow: 0 10px 30px rgba(0,0,0,0.9), 0 0 0 3px var(--rh-acid);
        }

        .thumb::after {
            content: attr(data-title);
            position: absolute;
            bottom: -20px;
            left: 0;
            background: var(--rh-acid);
            color: black;
            font-size: 10px;
            padding: 2px 4px;
            white-space: nowrap;
            display: none;
            font-weight: bold;
            box-shadow: 2px 2px 0 black;
        }
        .thumb:hover::after,
        .thumb:focus::after,
        .thumb.touch-active::after {
            display: block;
        }

        /* --- OVERLAY --- */
        #video-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.95);
            z-index: 5000; /* Absolute Top */
            justify-content: center;
            align-items: center;
            flex-direction: column;
            backdrop-filter: blur(8px);
            overflow: auto;
            -webkit-overflow-scrolling: touch;
        }

        #video-container {
            width: min(95vw, 160vh); 
            height: auto; 
            max-width: 1400px; 
            aspect-ratio: 16/9;
            border: 1px solid var(--rh-white);
            box-shadow: 0 0 50px rgba(255,255,255,0.1);
            background: #000;
        }
        
        #player-placeholder {
            width: 100%;
            height: 100%;
        }

        iframe { width: 100%; height: 100%; border: none; }

        #close-btn {
            margin-top: 25px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 1.2rem;
            background: transparent;
            color: var(--rh-white);
            border: 1px solid var(--rh-white);
            padding: 10px 40px;
            cursor: pointer;
            text-transform: uppercase;
            transition: 0.2s;
        }
        #close-btn:hover { background: var(--rh-white); color: black; }

        /* --- UI ELEMENTS --- */
        .glitch-footer {
            position: absolute;
            bottom: 20px;
            left: 20px;
            font-size: 11px;
            color: #555;
            z-index: 5;
            max-width: 300px;
            line-height: 1.4;
        }

        /* --- ONLINE COUNTER --- */
        #online-counter {
            position: fixed;
            bottom: 20px;
            right: 20px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.8rem;
            color: var(--rh-acid);
            background: rgba(0, 0, 0, 0.8);
            padding: 8px 14px;
            border: 1px solid var(--rh-dim);
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 8px;
            letter-spacing: 1px;
        }

        #online-dot {
            width: 8px;
            height: 8px;
            background: var(--rh-acid);
            border-radius: 50%;
            animation: pulse-dot 1.5s ease-in-out infinite;
        }

        @keyframes pulse-dot {
            0%, 100% { opacity: 1; box-shadow: 0 0 5px var(--rh-acid); }
            50% { opacity: 0.5; box-shadow: 0 0 10px var(--rh-acid); }
        }

        #online-count {
            font-weight: bold;
            min-width: 20px;
            text-align: right;
        }

        /* --- SEARCH BAR --- */
        #search-bar {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 4500;
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 0, 0, 0.85);
            padding: 10px 15px;
            border: 1px solid var(--rh-dim);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.8);
            box-sizing: border-box;
            max-width: calc(100% - 20px);
        }

        #search-bar * {
            box-sizing: border-box;
        }

        #search-input, #city-filter, #date-filter {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.9rem;
            background: var(--rh-black);
            color: var(--rh-white);
            border: 1px solid var(--rh-dim);
            padding: 8px 12px;
            outline: none;
            transition: border-color 0.2s;
        }

        #search-input {
            width: 200px;
        }

        #city-filter, #date-filter {
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23ccff00' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10l-5 5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 8px center;
            padding-right: 28px;
        }

        #city-filter {
            width: 130px;
        }

        #date-filter {
            width: 140px;
        }

        #city-filter option, #date-filter option {
            background: var(--rh-black);
            color: var(--rh-white);
        }

        #date-filter optgroup {
            background: var(--rh-black);
            color: var(--rh-acid);
            font-weight: bold;
            font-style: normal;
        }

        #search-input:focus, #city-filter:focus, #date-filter:focus {
            border-color: var(--rh-acid);
        }

        #search-input::placeholder {
            color: var(--rh-acid);
            opacity: 0.7;
        }

        #search-btn, #clear-search-btn {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.8rem;
            background: transparent;
            color: var(--rh-white);
            border: 1px solid var(--rh-dim);
            padding: 8px 15px;
            cursor: pointer;
            text-transform: uppercase;
            transition: all 0.2s;
        }

        #search-btn:hover {
            background: var(--rh-acid);
            color: var(--rh-black);
            border-color: var(--rh-acid);
        }

        #clear-search-btn {
            color: #666;
            border-color: #444;
            display: none;
        }

        #clear-search-btn.visible {
            display: inline-block;
            color: #ff4444;
            border-color: #ff4444;
        }

        #clear-search-btn:hover {
            background: var(--rh-white);
            color: var(--rh-black);
            border-color: var(--rh-white);
        }

        #search-results-count {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.75rem;
            color: var(--rh-acid);
            margin-left: 5px;
            min-width: 80px;
        }

        #chat-toggle-btn {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.8rem;
            background: var(--rh-acid);
            color: var(--rh-black);
            border: 1px solid var(--rh-acid);
            padding: 8px 15px;
            cursor: pointer;
            text-transform: uppercase;
            transition: all 0.2s;
            font-weight: bold;
        }

        #chat-toggle-btn:hover {
            background: var(--rh-white);
            border-color: var(--rh-white);
        }

        #chat-toggle-btn.active {
            background: var(--rh-red);
            border-color: var(--rh-red);
            color: var(--rh-white);
        }

        /* --- CHAT PANEL --- */
        #chat-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 340px;
            height: 100vh;
            background: rgba(5, 5, 5, 0.95);
            border-right: 1px solid var(--rh-dim);
            z-index: 4800;
            display: flex;
            flex-direction: column;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            box-shadow: 5px 0 30px rgba(0, 0, 0, 0.8);
        }

        #chat-panel.open {
            transform: translateX(0);
        }

        #chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid var(--rh-dim);
            background: rgba(0, 0, 0, 0.5);
        }

        #chat-title {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.9rem;
            color: var(--rh-acid);
            letter-spacing: 2px;
        }

        #chat-close-btn {
            font-family: 'Share Tech Mono', monospace;
            font-size: 1.5rem;
            background: transparent;
            color: var(--rh-white);
            border: none;
            cursor: pointer;
            line-height: 1;
            padding: 0 5px;
            transition: color 0.2s;
        }

        #chat-close-btn:hover {
            color: var(--rh-red);
        }

        #chat-embed-container {
            flex: 1;
            overflow: hidden;
        }

        #chat-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* --- SEARCH RESULT STATES --- */
        .thumb.search-match {
            border: 2px solid var(--rh-acid) !important;
            box-shadow: 0 0 15px rgba(204, 255, 0, 0.5);
            opacity: 1 !important;
            filter: none !important;
            z-index: 1000 !important; /* Bring matched thumbnails to front */
        }

        .thumb.search-dimmed {
            filter: grayscale(100%) brightness(0.4);
            opacity: 0.25;
            pointer-events: none; /* Allow clicks to pass through to matched thumbs behind */
        }

        /* --- CITY FILTER STATES --- */
        /* Dimmed state for non-selected cities */
        .thumb.city-dimmed {
            filter: grayscale(100%) brightness(0.5);
            opacity: 0.3;
            pointer-events: none;
        }

        .city-label-wrapper.dimmed .city-name {
            opacity: 0.4;
            border-color: #222;
        }

        .city-label-wrapper.dimmed .city-date {
            opacity: 0.3;
        }

        /* Selected state for active city */
        .city-label-wrapper.selected .city-name {
            border-color: var(--rh-acid);
            box-shadow: 0 0 15px rgba(204, 255, 0, 0.4), inset 0 0 10px rgba(204, 255, 0, 0.1);
        }

        .thumb.city-selected {
            opacity: 1;
        }

        /* Clickable cursor for city labels */
        .city-label-wrapper {
            cursor: pointer;
        }

        /* Smooth transitions for filter states */
        .city-node .thumb,
        .city-label-wrapper .city-name,
        .city-label-wrapper .city-date {
            transition: all 0.3s ease;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .city-name { font-size: 1.5rem; }
            .thumb:hover { width: 360px; height: 203px; }

            #video-container {
                width: 95vw;
                max-width: none;
                max-height: 70vh;
            }

            #video-overlay {
                padding: 20px 0;
            }

            #close-btn {
                margin-top: 15px;
                padding: 12px 30px;
            }

            #tour-year-display {
                font-size: clamp(60px, 25vw, 200px);
                letter-spacing: 2vw;
                top: 50px;
            }

            .glitch-footer {
                font-size: 9px;
                max-width: 200px;
                bottom: 10px;
                left: 10px;
            }

            #online-counter {
                bottom: 10px;
                right: 10px;
                font-size: 0.7rem;
                padding: 6px 10px;
            }

            #search-bar {
                top: 10px;
                padding: 8px 10px;
                gap: 5px;
                width: calc(100% - 20px);
                left: 10px;
                transform: none;
                flex-wrap: wrap;
                justify-content: center;
            }

            #city-filter, #date-filter {
                width: calc(50% - 3px);
                font-size: 0.8rem;
                padding: 6px 22px 6px 8px;
                order: 0;
            }

            #search-input {
                width: 100%;
                font-size: 0.8rem;
                padding: 6px 8px;
                order: 1;
            }

            #search-btn, #clear-search-btn {
                font-size: 0.7rem;
                padding: 6px 10px;
                flex: 1;
                order: 2;
            }

            #clear-search-btn {
                flex: none;
            }

            #clear-search-btn.visible {
                flex: 1;
            }

            #search-results-count {
                font-size: 0.65rem;
                width: 100%;
                text-align: center;
                order: 3;
                margin-left: 0;
            }

            #chat-toggle-btn {
                font-size: 0.7rem;
                padding: 6px 10px;
                flex: 1;
                order: 2;
            }

            #chat-panel {
                width: 100%;
                border-right: none;
            }
        }

        /* Small phones */
        @media (max-width: 400px) {
            .city-name { font-size: 1.1rem; padding: 3px 8px; }
            .city-date { font-size: 0.75rem; top: -14px; }
            .thumb:hover { width: 280px; height: 158px; }

            #tour-year-display {
                font-size: clamp(50px, 22vw, 120px);
                top: 30px;
            }

            .glitch-footer {
                display: none;
            }

            #online-counter {
                bottom: auto;
                top: 70px;
                right: 10px;
                font-size: 0.65rem;
            }

            #city-filter, #date-filter, #search-input {
                font-size: 0.7rem;
            }

            #search-btn, #clear-search-btn, #chat-toggle-btn {
                font-size: 0.65rem;
            }

            #video-container {
                max-height: 60vh;
            }

            #close-btn {
                font-size: 1rem;
                padding: 10px 25px;
            }
        }

        /* Touch device active states (mirror hover) */
        @media (hover: none) and (pointer: coarse) {
            .thumb:active {
                width: 320px;
                height: 180px;
                z-index: 1500 !important;
                filter: none;
                opacity: 1;
                border: 2px solid var(--rh-acid);
                box-shadow: 0 10px 30px rgba(0,0,0,0.9);
            }

            .thumb:active::after {
                display: block;
            }

            .city-name:active {
                background: var(--rh-white);
                color: var(--rh-black);
                border-color: var(--rh-white);
            }
        }

        /* Reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
            .thumb {
                transition: none;
            }
            .city-name {
                transition: none;
            }
            #close-btn {
                transition: none;
            }
        }

        /* --- COMIC CLOUD CTA OVERLAY --- */
        #cta-cloud-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 4900;
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(3px);
            animation: ctaFadeIn 0.5s ease-out;
        }

        @keyframes ctaFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .comic-cloud {
            position: relative;
            background: #fff;
            padding: 35px 50px;
            border-radius: 50px;
            box-shadow:
                0 0 0 4px #000,
                8px 8px 0 #000,
                0 0 60px rgba(204, 255, 0, 0.4);
            max-width: 380px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            animation: cloudBounce 2s ease-in-out infinite;
        }

        .comic-cloud:hover {
            transform: scale(1.05);
            box-shadow:
                0 0 0 4px #000,
                12px 12px 0 #000,
                0 0 80px rgba(204, 255, 0, 0.6);
        }

        @keyframes cloudBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .comic-cloud:hover {
            animation: none;
            transform: scale(1.05);
        }

        /* Cloud bubbles decoration */
        .comic-cloud::before,
        .comic-cloud::after {
            content: '';
            position: absolute;
            background: #fff;
            border: 4px solid #000;
            border-radius: 50%;
        }

        .comic-cloud::before {
            width: 30px;
            height: 30px;
            bottom: -20px;
            left: 60px;
        }

        .comic-cloud::after {
            width: 18px;
            height: 18px;
            bottom: -40px;
            left: 40px;
        }

        /* Arrow pointing decoration */
        .cloud-arrow {
            position: absolute;
            bottom: -70px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 40px;
            color: var(--rh-acid);
            animation: arrowBounce 1s ease-in-out infinite;
            text-shadow: 2px 2px 0 #000, -1px -1px 0 #000;
        }

        @keyframes arrowBounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(10px); }
        }

        .cloud-title {
            font-family: 'Xanh Mono', monospace;
            font-size: 1.8rem;
            font-weight: bold;
            color: #000;
            text-transform: uppercase;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .cloud-subtitle {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.95rem;
            color: #333;
            margin-bottom: 20px;
        }

        .cloud-cta-btn {
            display: inline-block;
            font-family: 'Share Tech Mono', monospace;
            font-size: 1rem;
            background: var(--rh-acid);
            color: #000;
            padding: 12px 30px;
            border: 3px solid #000;
            text-transform: uppercase;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 4px 4px 0 #000;
        }

        .cloud-cta-btn:hover {
            background: #000;
            color: var(--rh-acid);
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 #000;
        }

        .cloud-dismiss {
            position: absolute;
            top: -12px;
            right: -12px;
            width: 32px;
            height: 32px;
            background: #ff3300;
            color: #fff;
            border: 3px solid #000;
            border-radius: 50%;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s ease;
            box-shadow: 2px 2px 0 #000;
        }

        .cloud-dismiss:hover {
            transform: scale(1.1) rotate(90deg);
            background: #fff;
            color: #ff3300;
        }

        /* Comic effect stars */
        .comic-stars {
            position: absolute;
            top: -25px;
            right: 20px;
            font-size: 24px;
            animation: starSpin 3s linear infinite;
        }

        @keyframes starSpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .comic-cloud {
                padding: 25px 35px;
                max-width: 300px;
                margin: 0 20px;
            }

            .cloud-title {
                font-size: 1.4rem;
            }

            .cloud-subtitle {
                font-size: 0.85rem;
            }

            .cloud-cta-btn {
                font-size: 0.9rem;
                padding: 10px 24px;
            }
        }

        @media (max-width: 400px) {
            .comic-cloud {
                padding: 20px 25px;
                max-width: 260px;
                border-radius: 30px;
            }

            .cloud-title {
                font-size: 1.2rem;
            }

            .cloud-arrow {
                font-size: 30px;
                bottom: -55px;
            }
        }

        /* Fallback for browsers without aspect-ratio support */
        @supports not (aspect-ratio: 16/9) {
            #video-container {
                height: 0;
                padding-bottom: 56.25%; /* 16:9 ratio */
                position: relative;
            }
            #video-container iframe,
            #video-container #player-placeholder {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }
        }

    </style>
</head>
<body>

    <!-- Skip link for keyboard users -->
    <a href="#search-input" class="skip-link">Skip to search</a>

    <div id="bg-layer"></div>
    <div id="noise"></div>
    <div id="tour-year-display" aria-hidden="true">2025</div>
    <img id="main-title-img" src="https://radiohead.com/b1b.jpg" alt="" role="presentation">

    <svg id="connections-layer">
        <path id="tour-path" class="connector" d="" />
    </svg>

    <!-- Container for graphics (Thumbnails, Lines) -->
    <div id="app-container"></div>
    
    <!-- NEW: Container for Text Labels (Always on top) -->
    <div id="labels-container"></div>

    <!-- Search Bar -->
    <div id="search-bar">
        <select id="city-filter">
            <option value="">ALL CITIES</option>
            <option value="Madrid">MADRID</option>
            <option value="Bologna">BOLOGNA</option>
            <option value="London">LONDON</option>
            <option value="Copenhagen">COPENHAGEN</option>
            <option value="Berlin">BERLIN</option>
        </select>
        <select id="date-filter">
            <option value="">ALL DATES</option>
        </select>
        <input type="text" id="search-input" placeholder="TITLE..." autocomplete="off">
        <button id="search-btn">SEARCH</button>
        <button id="clear-search-btn">CLEAR</button>
        <span id="search-results-count"></span>
        <button id="chat-toggle-btn">CHAT</button>
    </div>

    <!-- Chat Panel -->
    <div id="chat-panel" role="complementary" aria-label="Live chat">
        <div id="chat-header">
            <span id="chat-title">LIVE CHAT</span>
            <button id="chat-close-btn" aria-label="Close chat">×</button>
        </div>
        <div id="chat-embed-container">
            <!-- Replace YOUR_ROOM_NAME with your Minnit room name -->
            <iframe
                src="https://organizations.minnit.chat/460965390955371/Main?embed&darkmode"
                id="chat-iframe"
                title="Live chat room"
                allow="clipboard-read; clipboard-write">
            </iframe>
        </div>
    </div>

    <div class="glitch-footer">
        [SYSTEM_STATUS: ONLINE]<br>
        ARCHIVE_SIZE: (Curated Videos Only)<br>
        MODE: SPIRAL_DISTRIBUTION
    </div>

    <!-- Online Counter -->
    <div id="online-counter" aria-live="polite">
        <span id="online-dot"></span>
        <span id="online-count">-</span> ONLINE
    </div>

    <div id="video-overlay" role="dialog" aria-label="Video player" aria-modal="true">
        <div id="video-container">
            <div id="player-placeholder"></div>
        </div>
        <button id="close-btn" aria-label="Close video player">DISCONNECT</button>
    </div>

    <!-- Comic Cloud CTA Overlay -->
    <div id="cta-cloud-overlay" style="display: none;">
        <div class="comic-cloud" id="comic-cloud-clickable">
            <span class="comic-stars">✦</span>
            <button class="cloud-dismiss" id="cloud-dismiss-btn" aria-label="Close">×</button>
            <div class="cloud-title">Play Tour Videos!</div>
            <div class="cloud-subtitle">Click any thumbnail to watch live recordings from the Europe 2025 tour</div>
            <button class="cloud-cta-btn" id="cloud-explore-btn">Explore Now</button>
            <div class="cloud-arrow">▼</div>
        </div>
    </div>

    <script>
        // --- CONFIG & DATA (EASY TO CURATE) ---
        
        const CORE_TOUR_DATA = [
            {
                city: "Madrid", 
                dates: "NOV 04-08",
                realVideos: [
                    { id: "cmXDj-WeIqA", title: "RADIOHEAD — Full Show in Madrid 04/11/2025", date: "2025-11-04" },
                    { id: "ze8ZAlTyEIU", title: "Radiohead - FULL SHOW - live Madrid 2025-11-04 night 1 European Tour complete concert", date: "2025-11-04" },
                    { id: "-37QCDxOcak", title: "Radiohead Live Full Show Movistar Arena Madrid Spain November 5 2025 Night 2", date: "2025-11-05" },
                    { id: "fVqSV6seT-U", title: "Radiohead - Madrid 3rd night (FULL SHOW)", date: "2025-11-07" },
                    { id: "QzJs81sQ4Kg", title: "All I Need // 2025-11-05 Radiohead, Movistar Arena, Madrid // Strangeloving", date: "2025-11-05" },
                    { id: "7vJidz9ngfA", title: "Radiohead - Exit Music (For a Film) | Madrid Night 4", date: "2025-11-08" },
                    { id: "DOlcBb60AG0", title: "Idioteque // 2025-11-04 Radiohead, Movistar Arena, Madrid // Strangeloving", date: "2025-11-04" },
                    { id: "FqT9RPdN_rU", title: "RADIOHEAD 2025 First song live since 2018! Movistar Arena Madrid 04/11/2025", date: "2025-11-04" },
                    { id: "qCu7IAnpCLU", title: "Radiohead 11/5/25 Planet Telex at Movistar Arena in Madrid,Spain", date: "2025-11-05" },
                    { id: "XlUbeAy6LSE", title: "Radiohead - The Bends - live Madrid 2025-11-08 night 4", date: "2025-11-08" },
                    { id: "Hf8X6HDQM3E", title: "Radiohead - How To Disappear Completely | Madrid Movistar Arena | Nov 4, 2025 | Tour Opening Show", date: "2025-11-04" },
                    { id: "yhkaC_o-WAo", title: "Radiohead First show of 2025 tour @Movistar Arena, Madrid. First three Encores", date: "2025-11-04" },
                    { id: "CNrVXPYqHoE", title: "RADIOHEAD - there there @ MADRID 07/11/2025", date: "2025-11-07" },
                    { id: "6dBywGE_w-c", title: "Radiohead - Everything In Its Right Place (Live in Madrid, 04.11.2025)", date: "2025-11-04" },
                    { id: "X1EA7HAniQo", title: "Radiohead - EXIT MUSIC Live @ Madrid Night 2 | 05.11.2025", date: "2025-11-05" },
                    { id: "XvtOPJUxsk8", title: "Radiohead 11/4/25 No Surprises at Movistar Arena in Madrid,Spain", date: "2025-11-04" },
                    { id: "GPGWei_qcVk", title: "RADIOHEAD - weird fishes/arpeggi @ MADRID 07/11/2025", date: "2025-11-07" },
                    { id: "MX7FF0k-ScI", title: "Radiohead - Nude - live from Madrid 2025-11-05 night 2 European Tour", date: "2025-11-05" },
                    { id: "t896-xS5I58", title: "Radiohead Live at Movistar Arena Madrid – Concert Experience (Nov 2025)", date: "2025-11-05" },
                    { id: "6Gj46CRVE8o", title: "Radiohead - Paranoid Android @ Movistar Arena Madrid 4-NOV-2025 (4K)", date: "2025-11-04" },
                    { id: "6BQcG79LeNw", title: "Radiohead - Optimistic - live Madrid 2025-11-08 night 4", date: "2025-11-08" },
                    { id: "tVDK-BPCzpU", title: "RADIOHEAD 1 - Madrid 5 Nov 2025", date: "2025-11-05" },
                    { id: "fr4DBt_ljcI", title: "RADIOHEAD 2 - Madrid 5 Nov 2025", date: "2025-11-05" },
                    { id: "HZhak93sTTo", title: "RADIOHEAD 3 - Madrid 5 Nov 2025", date: "2025-11-05" },
                    { id: "Sv7PRgfEvvI", title: "Radiohead - How to Disappear Completely MULTICAM EDIT (Live in Madrid, 04-11-2025)", date: "2025-11-04" },
                    { id: "ELPBlMHTYyE", title: "Radiohead - Fake Plastic Trees MULTICAM EDIT (Live in Madrid, 04-11-2025)", date: "2025-11-04" },
                    { id: "w4e9GzJi5Oc", title: "Radiohead - The National Anthem MULTICAM EDIT (Live in Madrid, 04-11-2025)", date: "2025-11-04" },
                    { id: "jCPPIt76USE", title: "You and Whose Army? - Radiohead Live - Movistar Arena Madrid, Tour Europeo 2025", date: "2025-11-04" },
                    { id: "YtE7uJ8P3SU", title: "Radiohead - 2+2=5 @ Madrid 2025-11-05", date: "2025-11-05" },
                    { id: "Mo4aEwUot40", title: "Radiohead - Jigsaw Falling Into Place @ Madrid 2025-11-05", date: "2025-11-05" },
                    { id: "NoHq8-n6F_A", title: "Radiohead - Lucky @ Madrid 2025-11-04", date: "2025-11-04" },
                    { id: "r2m274blhcc", title: "Radiohead - The Gloaming @ Madrid 2025-11-04", date: "2025-11-04" },
                    { id: "jRx7E71sDoU", title: "Radiohead : Madrid (Le 05 Novembre 2025)", date: "2025-11-05" },
                ]
            },
            {
                city: "Bologna", 
                dates: "NOV 14-18",
                realVideos: [
                    { id: "1kIPZKFqtdY", title: "Radiohead - Full Live (@ Bologna 15/11/2025)", date: "2025-11-15" },
                    { id: "uTMtoCLTcQA", title: "Radiohead Bologna 17th Nov 2025 full show HD", date: "2025-11-17" },
                    { id: "avNFiJIYuXs", title: "Radiohead full live Bologna 14 novembre 2025 multicam", date: "2025-11-14" },
                    { id: "KSP5jbAxMOs", title: "Radiohead Bologna 18th Nov 2025 full show in 4K", date: "2025-11-18" },
                    { id: "tY5o5rOfGzc", title: "Radiohead - Full Live (live in Bologna at Unipol arena 18/11/2025) 4K", date: "2025-11-18" },
                    { id: "17ezEAkou7k", title: "Paranoid Android - Radiohead // Bologna 15/11/2025 Unipol Arena", date: "2025-11-15" },
                    { id: "HQSOhfFLn94", title: "Radiohead - How to Disappear Completely, Live in Bologna 17/11/2025 Night 3", date: "2025-11-17" },
                    { id: "K2Pkih2bg9g", title: "Radiohead - Planet Telex (live in Bologna, 14.11.2025)", date: "2025-11-14" },
                    { id: "-ThAOXum6vY", title: "Radiohead - Jigsaw Falling Into Place, Live in Bologna 18/11/2025 Night 4", date: "2025-11-18" },
                    { id: "J3g_STgPzDw", title: "optimistic - radiohead bologna 18/11/2025", date: "2025-11-18" },
                    { id: "HoSiMYrXIsU", title: "Radiohead - Just, Live in Bologna 17/11/2025 Night 3", date: "2025-11-17" },
                    { id: "KTzc4eGE60g", title: "Radiohead / 2+2=5 - live a Bologna 14/11/2025", date: "2025-11-14" },
                    { id: "ps4tn0X_DAU", title: "RADIOHEAD On Fire! (Live Bologna 11-17-2025)", date: "2025-11-17" },
                    { id: "EevXXedIXAA", title: "Radiohead - A Wolf at the Door (Live @ Unipol Arena Bologna, 17/11/25)", date: "2025-11-17" },
                    { id: "iwTRucDlKuU", title: "Radiohead - Bologna 2025 Night 4 - No Surprises", date: "2025-11-18" },
                    { id: "1OS260CQinA", title: "Radiohead - Bologna 2025 Night 4 - Let Down", date: "2025-11-18" },
                    { id: "0Q2eYqcaEtM", title: "Radiohead - Bologna 2025 Night 4 - Paranoid Android", date: "2025-11-18" },
                    { id: "-1m9dTNIiS4", title: "Radiohead - How to disappear completely (Live Bologna 17/11/2025)", date: "2025-11-17" },
                    { id: "_bXW3dcvooY", title: "Radiohead - No Surprises (Live Bologna 17/11/2025)", date: "2025-11-17" },
                    { id: "A4bOEImG1cY", title: "Radiohead @ Unipol Arena, Bologna, Nov. 18, 2025: Paranoid Android", date: "2025-11-18" },
                    { id: "aHBoKC0sFyk", title: "Radiohead @ Unipol Arena, Bologna, Nov. 18, 2025: Everything in Its Right Place", date: "2025-11-18" },
                    { id: "xkVN0AIxXgc", title: "Radiohead - Present Tense : Live in Bologna 15/11/2025 Night 2", date: "2025-11-15" },
                    { id: "KgYaRoEJLW4", title: "17th Nov 2025 Radiohead Bologna full show HD", date: "2025-11-17" },
                    { id: "Y2UODjzk7iw", title: "Radiohead - (Nice Dream) : Live in Bologna 15/11/2025 Night 2", date: "2025-11-15" },
                    { id: "U3jsHNWpGTg", title: "Radiohead - Optimistic : Live in Bologna 15/11/2025 Night 2", date: "2025-11-15" },
                    { id: "PEqiyWBzZBQ", title: "Radiohead - The Gloaming (Live Bologna 17/11/2025)", date: "2025-11-17" },
                    { id: "Y3UpzyeNdzs", title: "Radiohead Bologna 14-NOV-2025. Karma Police end", date: "2025-11-14" },
                    { id: "dNipqQtbAYw", title: "Radiohead Bologna 15-NOV-2025. The Bends", date: "2025-11-15" },
                    { id: "7QXn5Lipxo0", title: "Radiohead Bologna 14-NOV-2025. Long Intro + Planet Telex", date: "2025-11-14" },
                    { id: "--PEBBAyMF0", title: "Radiohead - Bloom (Live Bologna 17/11/2025)", date: "2025-11-17" },
                    { id: "Wut3r1VkANc", title: "Radiohead - Kid A (Live Bologna 17/11/2025, audio remaster)", date: "2025-11-17" },
                    { id: "4vG7iaxwnB0", title: "Radiohead - Weird Fishes / Arpeggi (Live Bologna 17/11/2025)", date: "2025-11-17" },
                    { id: "raRFWwIlP2s", title: "Present Tense - Radiohead 18/11/2025 Bologna Filmed with Nintendo 3DS", date: "2025-11-18" },
                    { id: "BGlUG_YTlVk", title: "Radiohead - Let Down (Live @ Unipol Arena Bologna, 17/11/25)", date: "2025-11-17" },
                    { id: "aWElTDtbQzU", title: "Radiohead - No Surprises (Live @ Unipol Arena Bologna, 17/11/25)", date: "2025-11-17" },
                    { id: "oRTty_w9JdM", title: "Radiohead - Weird Fishes/Arpeggi (Live @ Unipol Arena Bologna, 17/11/25)", date: "2025-11-17" },
                    { id: "A8Itl-X2B3U", title: "Radiohead - Lucky (Live @ Unipol Arena Bologna, 17/11/25)", date: "2025-11-17" },
                    { id: "kq849iDSV-g", title: "Radiohead - Videotape (Live @ Unipol Arena Bologna, 17/11/25)", date: "2025-11-17" },
                    { id: "9hFstXUQIS0", title: "Radiohead - How to Disappear Completely (Live @ Unipol Arena Bologna, 17/11/25)", date: "2025-11-17" },
                    { id: "WJ-ob_jmiOk", title: "Radiohead - Planet Telex (Live in Bologna, 14 November 2025)", date: "2025-11-14" },
                    { id: "28PxybCvyRA", title: "Radiohead - You and Whose Army (Live in Bologna, 14 November 2025)", date: "2025-11-14" },
                    { id: "DUOvJyQtKcQ", title: "Radiohead - Fake Plastic Trees /Ending/ (Live in Bologna, 14 November 2025)", date: "2025-11-14" },
                    { id: "U72f0uXGIXY", title: "Radiohead - The Gloaming (Live @ Unipol Arena Bologna, 17/11/25)", date: "2025-11-17" },
                ]
            },
            {
                city: "London", 
                dates: "NOV 21-25",
                realVideos: [
                    { id: "gKOJrbaVkVM", title: "Radiohead London o2 live full concert 4k", date: "2025-11-21" },
                    { id: "uISsWgTpHnw", title: "Paranoid Android - Radiohead - London", date: "2025-11-21" },
                    { id: "_KsR0NkBzAY", title: "Radiohead - Reckoner (Live) - The 02, London - 22-11-2025", date: "2025-11-22" },
                    { id: "5U2fq63173c", title: "Radiohead - All I Need (Live) - The 02, London - 22-11-2025", date: "2025-11-22" },
                    { id: "7E_c592nViw", title: "Radiohead - Jigsaw Falling Into Place (Live) - The 02, London - 22-11-2025", date: "2025-11-22" },
                    { id: "Skf72NYJXo0", title: "Just - Radiohead - o2 London - 21.11.2025", date: "2025-11-21" },
                    { id: "HweIP50pglA", title: "Radiohead - Planet Telex - London O2 Arena - 21st November 2025", date: "2025-11-21" },
                    { id: "IytYDbpA4-g", title: "Radiohead - Kid A - Live at The O2 Arena London 21/11/25", date: "2025-11-21" },
                    { id: "xNXqvlf34eY", title: "Radiohead - Paranoid Android - Live at The O2 Arena London 21/11/25", date: "2025-11-21" },
                    { id: "hYZTAJbQBlE", title: "RADIOHEAD - THE BENDS, LONDON O2, 22nd NOV 2025", date: "2025-11-22" },
                    { id: "0QAIK3eTkY0", title: "RADIOHEAD - 2+2=5, LONDON O2, 22nd NOV 2025", date: "2025-11-22" },
                    { id: "QOfKWSa4beo", title: "Radiohead- Street Spirit (O2 Arena London 22/11/2025", date: "2025-11-22" },
                    { id: "fcA2b-UIKs4", title: "RADIOHEAD - LET DOWN, LONDON O2, 22nd NOV 2025", date: "2025-11-22" },
                    { id: "wnBv1Z21sPE", title: "exit music - radiohead london 2025", date: "" },
                    { id: "xvBE5QSZTFk", title: "RADIOHEAD - EVERYTHING IN ITS RIGHT PLACE, LONDON O2, 22nd NOV 2025", date: "2025-11-22" },
                    { id: "lonpsppJLVo", title: "ful stop - radiohead london 2025", date: "" },
                    { id: "i5KZfNq7hoo", title: "Karma Police - Radiohead - O2 London - 21.11.2025", date: "2025-11-21" },
                    { id: "OsNfe43zNYs", title: "Radiohead - No Surprises live @ O2 Arena, London 2025", date: "" },
                    { id: "q0DlPzq0J1g", title: "Paranoid Android - Radiohead - o2 London - 21.11.2025", date: "2025-11-21" },
                    { id: "Qdnc0U2KaoY", title: "RADIOHEAD - AIRBAG, LONDON O2, 22nd NOV 2025", date: "2025-11-22" },
                    { id: "DKV7DyF7gsA", title: "RADIOHEAD - NO SURPRISES, LONDON O2, 22nd NOV 2025", date: "2025-11-22" },
                    { id: "eE4lcd9cbHY", title: "Radiohead - Paranoid Android (Live) - The 02, London - 22-11-2025", date: "2025-11-22" },
                    { id: "ORYlcc9noIk", title: "Karma Police live. Radiohead O2 London", date: "" },
                    { id: "fGIwOxrpUdc", title: "RADIOHEAD - SIT DOWN. STAND UP, LONDON O2, 22nd NOV 2025", date: "2025-11-22" },
                    { id: "75CcgzKO9kg", title: "kid a - radiohead london 2025", date: "" },
                    { id: "hrrBpZiT4-g", title: "Radiohead - Let Down (Live) - The 02, London - 22-11-2025", date: "2025-11-22" },
                    { id: "jJoIti47xQE", title: "Radiohead - Optimistic (Live) - The 02, London - 22-11-2025", date: "2025-11-22" },
                    { id: "RO_xlKVHAbU", title: "Radiohead - Nude (Live) - The 02, London - 22-11-2025", date: "2025-11-22" },
                    { id: "Mq3Fwbk_-fQ", title: "No Surprises - Radiohead - O2 London - 21.11.2025", date: "2025-11-21" },
                    { id: "e_o7QuQiLZc", title: "No Surprises - Radiohead 21-nov-2025, O2 Arena London", date: "2025-11-21" },
                    { id: "k90aZQua9w0", title: "Radiohead - Let Down - London O2 Arena - 21st November 2025", date: "2025-11-21" },
                    { id: "G-Ld0N-5Nzw", title: "Radiohead - Separator (Live) - The 02, London -22-11-2025", date: "2025-11-22" },
                    { id: "8PdF7rIeJmA", title: "Radiohead - Weird Fishes/Arpeggi @ The O2 Arena, London, 21/11/2025", date: "2025-11-21" },
                    { id: "IojSFOMt6-w", title: "sit down stand up - radiohead london 2025", date: "" },
                    { id: "E3tJsfK3LLc", title: "Radiohead Perform Karma Police at London's O2 Arena", date: "" },
                    { id: "urjlpYrxSVM", title: "15 step - radiohead london 2025", date: "" },
                    { id: "soP_8gsRvGo", title: "Let Down - Radiohead. Live at the o2 Arena, London. 21/11/25. @Radiohead", date: "2025-11-21" },
                    { id: "H_rWWC8grFk", title: "Kid A - Radiohead 21-nov-2025, O2 Arena London", date: "2025-11-21" },
                    { id: "Uis96pgKIzU", title: "Radiohead - Fake Plastic Trees - O2 Arena, London 21/11/2025 - Night 1", date: "2025-11-21" },
                    { id: "XSVvK3lsGgc", title: "paranoid android - radiohead london 2025", date: "" },
                    { id: "AiAj-fsAcig", title: "Radiohead - You and Whose Army? (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "JTPsrIRKffI", title: "Daydreaming - Radiohead (O2, London 24/11/2025)", date: "2025-11-24" },
                    { id: "dldefb8lw4Q", title: "Let Down - Radiohead. Live at the O2, London. 24/11/25. ‪‪‪@Radiohead‬", date: "2025-11-24" },
                    { id: "BxsaFh2_mrw", title: "Radiohead - Day 4 Live at O2, London, 25/11/2025", date: "2025-11-25" },
                    { id: "tRQsuZR1cRs", title: "Radiohead - Karma Police (Live at the O2 London)", date: "" },
                    { id: "NPkyvy5tT8U", title: "2+2=5 (excerpt) - Radiohead Live - O2 London - 24th Nov 2025", date: "2025-11-24" },
                    { id: "q0EHtb-Vixw", title: "Radiohead - Paranoid Android - London O2 Arena - November 25 2025", date: "2025-11-25" },
                    { id: "umvzmKNsIsc", title: "Radiohead - Street Spirit (Fade Out) - London O2 Arena - November 25 2025", date: "2025-11-25" },
                    { id: "iBODcNmaSuI", title: "Present Tense - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "xmBA16wcrNw", title: "Radiohead - Exit Music (for a Film) - London O2 Arena - November 25 2025", date: "2025-11-25" },
                    { id: "akz11Rc10Ts", title: "Let Down - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "lXzdkSqw06I", title: "2 + 2 = 5 - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "6VIiqdB90r0", title: "Jigsaw Falling Into Place - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "wPp35uE9YpY", title: "Nude - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "TEC0B9a7mv0", title: "pyramid song - radiohead london 25/11/2025", date: "2025-11-25" },
                    { id: "alwpWStXWd0", title: "exit music - radiohead london 25/11/2025", date: "2025-11-25" },
                    { id: "43x68J84kDA", title: "Radiohead - Paranoid Android (London 24.11.2015)", date: "2025-11-24" },
                    { id: "1DR2L9AXICU", title: "Bloom - Radiohead. Live at the O2, London. 24/11/25. Radiohead‬", date: "2025-11-24" },
                    { id: "XkmfZ436LSM", title: "Sit Down Stand Up - Radiohead. Live at the O2, London. 24/11/25. Radiohead‬", date: "2025-11-24" },
                    { id: "onpIo9rM4pM", title: "2+2=5 - Radiohead. Live at the O2, London. 24/11/25.", date: "2025-11-24" },
                    { id: "4EzbzyFvC3g", title: "Lucky - Radiohead. Live at the O2, London. 24/11/25", date: "2025-11-24" },
                    { id: "0czj8YGKnOo", title: "The Gloaming - Radiohead. Live at the O2, London. 24/11/25", date: "2025-11-24" },
                    { id: "bfAQhDmQWgg", title: "15 Step - Radiohead. Live at the O2, London. 24/11/25", date: "2025-11-24" },
                    { id: "9KHk2nTPQrw", title: "Reckoner - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "qLet5Sf_W8g", title: "The Bends - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "XpDHiX058Vk", title: "Kid A - Radiohead. Live at the O2, London. 24/11/25", date: "2025-11-24" },
                    { id: "EIjQEaCSdIU", title: "2025-11-25 - Radiohead: Like Spinning Plates (O2 Arena, London)", date: "2025-11-25" },
                    { id: "0SCZNzBY9vk", title: "Radiohead - Pyramid Song (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "O1VEzFOqhLs", title: "Radiohead - There, There (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "4ZXS9KZX4JY", title: "Radiohead - Paranoid Android (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "IJBPdNAiuPA", title: "Radiohead - Present Tense (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "7SqkHbQtZNk", title: "Sit Down. Stand Up. - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "AMubeqqFqt8", title: "Radiohead - All I Need (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "YTcXWGh7UNo", title: "Radiohead - Myxomatosis (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "yhsv-9kcMzM", title: "Radiohead - Ful Stop (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "lbLOoksChO4", title: "No Surprises - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "aNX68V9zgLg", title: "Radiohead - Jigsaw Falling Into Place (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "Y1BMZq5-cSo", title: "Radiohead - You and Whose Army? (Live at the O2 , London 25/11)", date: "2025-11-25" },
                    { id: "UyQchphYpXU", title: "Optimistic - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "pyClnzeH0Mc", title: "Radiohead ~ Paranoid Android (O2 Arena, London, November 25, 2025) LIVE/4K", date: "2025-11-25" },
                    { id: "BH8ELP0DQko", title: "idioteque - radiohead london 2025 night 4", date: "2025-11-25" },
                    { id: "-v5sHW8_8nI", title: "myxomatosis - radiohead london 2025", date: "" },
                    { id: "ynLjAYuHbW0", title: "no surprises - radiohead london 2025", date: "" },
                    { id: "m2jmj-XbJzc", title: "Exit Music (For a Film) - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "aN7aFeOujsM", title: "Street Spirit - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "vRjRpS3Y8sg", title: "Radiohead - Pyramid Song - live London 2025", date: "" },
                    { id: "Sks2QTRBdGM", title: "There, There - Radiohead live O2 Arena, London, 25 November 2025", date: "2025-11-25" },
                    { id: "yFiaLDcKir8", title: "Like Spinning Plates - Radiohead. Live at the O2, London. 26/11/25", date: "" },
                    { id: "EmASuP_Batw", title: "Radiohead - Pyramid Song (O2 Arena, London, November 25, 2025) LIVE/4K", date: "2025-11-25" },
                    { id: "5bpnP4XtdJM", title: "Like Spinning Plates - Radiohead live O2 Arena London, 25 November 2025", date: "2025-11-25" },
                    { id: "CpGrj8oKk70", title: "Radiohead - Ful Stop (O2 Arena, London, November 25, 2025) LIVE/4K", date: "2025-11-25" },
                    { id: "h6ijhehVQJU", title: "Radiohead - Exit Music (For a Film) (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "28I2ElKHD44", title: "Radiohead - Exit Music - O2 Arena, London 25/11/2025 - Night 4", date: "2025-11-25" },
                    { id: "UOJEi1IaKsU", title: "Radiohead - Sit Down, Stand Up - O2 Arena, London 25/11/2025 - Night 4", date: "2025-11-25" },
                    { id: "Aos0ECqkY6c", title: "Radiohead - Present Tense - O2 Arena, London 25/11/2025 - Night 4", date: "2025-11-25" },
                    { id: "bUeQWctGZ4E", title: "Radiohead - Like Spinning Plates (Tour Debut) - O2 Arena, London 25/11/2025 - Night 4", date: "2025-11-25" },
                    { id: "0n-DRPaNVUk", title: "Radiohead - Like Spinning Plates (Live at The O2, London 25/11/25)", date: "2025-11-25" },
                    { id: "wzv90yM76Pc", title: "like spinning plates - radiohead london 2025", date: "" },
                    { id: "B6hQOQs5dLQ", title: "Radiohead - Like Spinning Plates @ O2 Arena, London, 25/11/2025", date: "2025-11-25" },
                    { id: "Pe2sRe2lE6M", title: "Planet Telex - Radiohead Live - O2 London - 24th November 2025", date: "2025-11-24" },
                    { id: "RS4PvY08z2Y", title: "Radiohead - Idioteque (London O2 Arena) - 25 Nov 2026", date: "2025-11-25" },
                    { id: "XivS2G-9rgc", title: "Paranoid Android - Radiohead Live - O2 London - 25 November 2025", date: "2025-11-25" },
                    { id: "jcLQ2cTShcQ", title: "Radiohead - No Surprises (London O2 Arena) - 25th Nov 2026", date: "2025-11-25" },
                    { id: "SvDkJfdv_tQ", title: "Radiohead – Daydreaming live in London (The O2, 24/11/2025)", date: "2025-11-24" },
                    { id: "2V8rXQLzsnI", title: "KARMA POLICE 21/11/2025 RADIOHEAD LONDON NIGHT1", date: "2025-11-21" },
                    { id: "9Bl3GCLAW30", title: "Radiohead – 15 Step live London (The O2, 24/11/2025)", date: "2025-11-24" },
                    { id: "bA4BddB2kpU", title: "Everything In It's Right Place - Radiohead (O2, London 24/11/2025)", date: "2025-11-24" },
                    { id: "tZqvJsLdQBQ", title: "Just - Radiohead (O2, London 24/11/2025)", date: "2025-11-24" },
                    { id: "mZdjprKEXE0", title: "Fake Plastic Trees - Radiohead - London 24.11.2025", date: "2025-11-24" },
                    { id: "UF2xLmxTMW8", title: "Jigsaw Falling Into Place - Radiohead - London 24.11.2025", date: "2025-11-24" },
                    { id: "YY5aUtTutMA", title: "All I Need - Radiohead - London 24.11.2025", date: "2025-11-24" },
                    { id: "sLCZbiV4q2M", title: "Weird Fishes / Arpeggi - Radiohead - London 24.11.2025", date: "2025-11-24" },
                    { id: "tq3dW7IBFVo", title: "Let Down - Radiohead - London 24.11.2025", date: "2025-11-24" },
                    { id: "DEsZId40A3E", title: "Everything In Its Right Place - Radiohead - London 24.11.2025", date: "2025-11-24" },
                    { id: "qSZOYAef9_U", title: "Climbing Up the Walls - Radiohead - London 24.11.2025", date: "2025-11-24" },
                    { id: "h-Z4bgfh1oA", title: "No Surprises - Radiohead - London 24.11.2025", date: "2025-11-24" },
                    { id: "FolhXf2qv3c", title: "Lucky - Radiohead - London 24.11.2025", date: "2025-11-24" },
                    { id: "b-lrqdZK4dI", title: "Planet Telex - Radiohead - London 24.11.2025", date: "2025-11-24" },
                    { id: "U5yb5NPtVOU", title: "Radiohead - Paranoid Android, London 2025", date: "" },
                    { id: "LM7TOcNPb84", title: "radiohead \\ 2_2_5 —LONDON of ENGLAND • 22NOVEMBER, two thousand and [possibly] five", date: "2025-11-22" },
                    { id: "gv78kaqGeNE", title: "radiohead \\ KID_A \\London•England [21.11.2005]", date: "2025-11-21" },
                    { id: "3KL8j8gyUsQ", title: "lucky - radiohead london 2025", date: "" },
                    { id: "uWtxGrrXII8", title: "2+2=5 - radiohead london", date: "" },
                    { id: "kQDIcDjgVnM", title: "Radiohead Live 24/11/25 clips", date: "2025-11-24" },
                    { id: "URL_1w0vS9o", title: "paranoid android - radiohead london 2025", date: "" },
                    { id: "ykoW0k2LYdI", title: "karma police - radiohead london 2025", date: "" },
                    { id: "LaOXVE9744o", title: "Radiohead LIVE - FULL GIG - November 2025 - London", date: "" },
                    { id: "HAgS02VL3_E", title: "Radiohead Live at The O2 London, 24th November 2025", date: "2025-11-24" },
                    { id: "06L9Z0GlQYI", title: "Radiohead Live at The O2 London (Almost) Full Concert – 24 November 2025", date: "2025-11-24" },
                    { id: "d8gJAWwDX5M", title: "Just - Radiohead - London - 24th November 2025", date: "2025-11-24" },
                    { id: "Raa2QRGMFo4", title: "Radiohead – Karma Police live London (The O2, 24/11/2025)", date: "2025-11-24" },
                    { id: "MSFHDRuu1u4", title: "Radiohead – All I Need live London (The O2, 24/11/2025)", date: "2025-11-24" },
                ]
            },
            {
                city: "Copenhagen", 
                dates: "DEC 01-05",
                realVideos: [
                    { id: "a2z_htyxLj8", title: "Radiohead - Jigsaw Falling into Place - live Copenhagen 2025-12-04 Thursday (new N1)", date: "2025-12-04" },
                    { id: "Tp8Ayp289Uo", title: "Radiohead - Nice Dream - live Copenhagen 2025-12-04 night 1 (old N3)", date: "2025-12-04" },
                    { id: "EFrlYnXZ-cQ", title: "Radiohead - Daydreaming (Live in Copenhagen 04.12.2025)", date: "2025-12-04" },
                    { id: "kjaABeHwH6I", title: "Radiohead - The Gloaming (Live in Copenhagen 04.12.2025)", date: "2025-12-04" },
                    { id: "4Pa0IRe40B0", title: "Radiohead - No Surprises (Live in Copenhagen 04.12.2025)", date: "2025-12-04" },
                    { id: "pSxbxetIf08", title: "Radiohead - 2 + 2 = 5 - Royal Arena - Copenhagen, Denmark - 12-4-2025", date: "2025-12-04" },
                    { id: "T2avg5MK1ZQ", title: "Radiohead - Kid A (Live in Copenhagen 04.12.2025)", date: "2025-12-04" },
                    { id: "4rXEHx3g4nM", title: "Radiohead - Idioteque (Live in Copenhagen 04.12.2025)", date: "2025-12-04" },
                    { id: "Q6ND4-aNwrw", title: "Radiohead - 15 Step (Live in Copenhagen 04.12.2025)", date: "2025-12-04" },
                    { id: "STOopb76gWU", title: "Radiohead – Present Tense – Copenhagen (5 December)", date: "2025-12-05" },
                    { id: "Ck4cxjwWB7k", title: "Radiohead - Paranoid Android (Live in Copenhagen 04.12.2025)", date: "2025-12-04" },
                    { id: "YgehERgw3L8", title: "Radiohead - All I Need (Live in Copenhagen 04.12.2025)", date: "2025-12-04" },
                    { id: "kXNZsgM5dKY", title: "Radiohead - Airbag (Live in Copenhagen 05.12.2025)", date: "2025-12-05" },
                    { id: "xS8uq2DB7DI", title: "Radiohead Live in Copenhagen, Dec 4, 2025", date: "2025-12-04" },
                    { id: "r8fqbdsaJ-0", title: "Radiohead – Ful Stop – Copenhagen (5 December)", date: "2025-12-05" },
                    { id: "Ok6eIdj5Ayg", title: "Radiohead - Nude | Royal Arena, Copenhagen | 5/12/2025", date: "2025-12-05" },
                    { id: "3pCVH3Sd_1k", title: "Radiohead - Paranoid Android | Royal Arena, Copenhagen | 5/12/2025", date: "2025-12-05" },
                    { id: "B-cTtCUsyYY", title: "Radiohead - No Surprises | Royal Arena, Copenhagen | 5/12/2025", date: "2025-12-05" },
                    { id: "UJXN11qy2dk", title: "Radiohead - Reckoner (live, Copenhagen 2025-12-05)", date: "2025-12-05" },
                    { id: "bBGXBvMIc0I", title: "Radiohead - All I Need (live, Copenhagen 2025-12-05)", date: "2025-12-05" },
                    { id: "9goBV5KaprM", title: "Radiohead - Jigsaw Falling Into Place - Royal Arena - Copenhagen, Denmark - 12-4-2025", date: "2025-12-04" },
                    { id: "kgWh808rH4Y", title: "Radiohead – Like Spinning Plates – Copenhagen (5 December)", date: "2025-12-05" },
                    { id: "5R1S0Y7igkc", title: "Radiohead - Weird Fishes / Arpeggi - Royal Arena - Copenhagen, Denmark - 12-4-2025", date: "2025-12-04" },
                    { id: "rT5zhyB1nwo", title: "Radiohead - Like Spinning Plates - Royal Arena - Copenhagen, Denmark - 12-5-2025", date: "2025-12-05" },
                    { id: "Z9sO8-o8dfg", title: "Radiohead - There There @ Royal Arena, Copenhagen 2025-12-05", date: "2025-12-05" },
                    { id: "5IRU-K1zTRk", title: "Radiohead - Paranoid Android w/partial apology intro - Royal Arena - Copenhagen, Denmark - 12-5-2025", date: "2025-12-05" },
                    { id: "tiISL5Ob_vc", title: "Radiohead - Weird Fishes/Arpeggi @ Royal Arena, Copenhagen 2025-12-05", date: "2025-12-05" },
                    { id: "fFaWKLwpgv0", title: "Radiohead - Street Spirit (Fade Out) @ Royal Arena, Copenhagen 2025-12-05", date: "2025-12-05" },
                    { id: "Xhs3r_NJwuY", title: "Exit Music (For A Film) - Radiohead Live in Copenhagen 5th December 2025", date: "2025-12-05" },
                    { id: "G6Ekq67eY-U", title: "Radiohead - Exit Music (For A Film) @ Royal Arena, Copenhagen 2025-12-05", date: "2025-12-05" },
                    { id: "BaWgUi7b1Ko", title: "Radiohead - Jigsaw Falling Into Place @ Royal Arena, Copenhagen 2025-12-05", date: "2025-12-05" },
                    { id: "kHqtE9CNSIg", title: "Radiohead « Paranoid Android » @ Royal Arena Copenhagen (live 2025, night #2)", date: "2025-12-05" },
                    { id: "P2Oy3Afk7Cs", title: "Radiohead - Pyramid Song (Copenhagen 5/12)", date: "2025-12-05" },
                    { id: "lH1MJYziSXc", title: "Radiohead - Like Spinning Plates - live Copenhagen 2025-12-05 Friday new N2 (old N4)", date: "2025-12-05" },
                    { id: "9P5ChHAKDbk", title: "bloom - radiohead copenhagen 2025", date: "" },
                    { id: "X8AerLVp-UM", title: "Radiohead - Day 1 Live at Royal Arena, Copenhagen, 04/12/2025", date: "2025-12-04" },
                    { id: "buc9x8Boh20", title: "Radiohead - Bodysnatchers (Live in Copenhagen, Dec 4)", date: "2025-12-04" },
                    { id: "ldhcyn8hsnM", title: "Radiohead - (Nice Dreams) [Live in Copenhagen, Dec 4]", date: "2025-12-04" },
                    { id: "t6o9PvQPlRQ", title: "Radiohead - Daydreaming (Live in Copenhagen, Dec 4)", date: "2025-12-04" },
                    { id: "3ufYjBYm_Jo", title: "Radiohead - Everything In Its Right Place (Live in Copenhagen, Dec 4)", date: "2025-12-04" },
                    { id: "w8ys0TeLDBc", title: "Radiohead - idiotque (Live in Copenhagen, Dec 4)", date: "2025-12-04" },
                    { id: "ZnQYN0IL5y8", title: "Radiohead - Jigsaw Falling into Place + Paranoid Android (Live in Copenhagen, Dec 4)", date: "2025-12-04" },
                    { id: "oWhYKDab4d0", title: "5. december 2025", date: "2025-12-05" },
                    { id: "wZ6QA4Pehf4", title: "RADIOHEAD: 15 Step - Royal Arena Copenhagen Denmark 2025-12-04", date: "2025-12-04" },
                    { id: "1xXuJIKpjpU", title: "weird fishes - radiohead copenhagen 2025", date: "" },
                    { id: "Alp3oNRmTyM", title: "videotape - radiohead copenhagen 2025", date: "" },
                    { id: "DVD5JJOWXFU", title: "everything in its right place (harry patch intro) - radiohead copenhagen 2025", date: "" },
                    { id: "ghjwYnDg-8I", title: "lucky - radiohead copenhagen 2025", date: "" },
                    { id: "nc5UVRtopLQ", title: "kid a - radiohead copenhagen 2025", date: "" },
                    { id: "YzQ_0HVthbo", title: "15 step - radiohead copenhagen 2025", date: "" },
                    { id: "5CLHQQVcN_I", title: "sit down stand up - radiohead copenhagen 2025", date: "" },
                    { id: "KJ6n5ZmVrSw", title: "idioteque - radiohead copenhagen 2025", date: "" },
                    { id: "_7w6v8O6aFg", title: "the national anthem - radiohead copenhagen 2025", date: "" },
                    { id: "Iyc5_LlWODQ", title: "no surprises - radiohead copenhagen 2025", date: "" },
                    { id: "Oiq_qrZtXog", title: "2+2=5 - radiohead copenhagen 2025", date: "" },
                    { id: "2pmI8bAn_Ns", title: "the gloaming - radiohead copenhagen 2025", date: "" },
                    { id: "d9Djpb19J5E", title: "Radiohead – Bodysnatchers – Copenhagen (4 December)", date: "2025-12-04" },
                    { id: "-ZNu9B4Ol4M", title: "paranoid android - radiohead copenhagen 2025", date: "" },
                    { id: "RyavYLMXDao", title: "karma police - radiohead copenhagen 2025", date: "" },
                    { id: "rktYqZNTt6U", title: "fake plastic trees - radiohead copenhagen 2025", date: "" },
                ]
            },
            {
                city: "Berlin", 
                dates: "DEC 08-12",
                realVideos: [
                    { id: "RtUxRnEFr-k", title: "RADIOHEAD 2025 - Day 2 Berlin", date: "2025-12-09" },
                    { id: "X8BJndxcmso", title: "Radiohead live Berlin full show 09.12.2025 @Uber Arena", date: "2025-12-09" },
                    { id: "WNj5e8QOtco", title: "RADIOHEAD - Full Live Set - Uber Arena, Berlin (Day 3, 11.12.2025)", date: "2025-12-11" },
                    { id: "1YRyfIUP8FI", title: "Radiohead Full Whole Entire Complete Show Live Uber Arena Berlin Germany December 11 2025 11.12.25", date: "2025-12-11" },
                    { id: "NXy5xdwJaIY", title: "Radiohead - Live in Berlin (September 2016)", date: "" },
                    { id: "YXpxgQD2n0k", title: "Radiohead - Live at Uber Arena 12/11/2025", date: "2025-12-11" },
                    { id: "z3RmRpSkB9c", title: "Radiohead Jigsaw Falling Into Place Live Uber Arena Berlin Germany December 11 2025 12/11/25", date: "2025-12-11" },
                    { id: "lIDTmJkBUSY", title: "Radiohead - Berlin Day 1 [08.12.2025] [Full show] - Live @ Uber Arena Berlin [ 4K ]", date: "2025-12-08" },
                    { id: "xL6L98Yqr4I", title: "Radiohead - How to Disappear Completely, Live in Berlin 09/12/2025 Night 2", date: "2025-12-09" },
                    { id: "lB1oaHrrH6o", title: "Radiohead - Exit Music (for a Film), Live in Berlin 09/12/2025 Night 2", date: "2025-12-09" },
                    { id: "23iFVYcP8BI", title: "Radiohead - Berlin Day 3 [11.12.2025] [Full show] - Live @ Uber Arena Berlin [ 4K ]", date: "2025-12-11" },
                    { id: "bsXi8bm4YPY", title: "Radiohead - Just, Live in Berlin 11/12/2025 Night 3", date: "2025-12-11" },
                    { id: "mKSJPmAliu8", title: "Radiohead - Intro + Planet Telex live from Berlin 2025 (night 3)", date: "2025-12-11" },
                    { id: "Sw9KZEo4Zc0", title: "Radiohead - Weird Fishes (Arpeggi) live from Berlin 2025 (night 3)", date: "2025-12-11" },
                    { id: "oN9BPGppNho", title: "Radiohead - Exit Music (for a film) live from Berlin 2025 (night 3)", date: "2025-12-11" },
                    { id: "EFFVmSL1gt0", title: "Radiohead No Surprises Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "UQ78l16CYHY", title: "Radiohead You And Whose Army? Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25", date: "2025-12-11" },
                    { id: "3bhqE-JgPP8", title: "Radiohead live in Berlin - Pyramid Song - 9th December 2025 (night 2)", date: "2025-12-09" },
                    { id: "qIYYbL3Ds1Q", title: "Radiohead Paradnoid Android Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25", date: "2025-12-11" },
                    { id: "5AcpvG5Ahy8", title: "Radiohead The National Anthem Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25", date: "2025-12-11" },
                    { id: "V2-fiGmDncE", title: "Radiohead live in Berlin - Optimistic - 9th December 2025 (night 2)", date: "2025-12-09" },
                    { id: "EQd1wyrniPs", title: "Radiohead Fake Plastic Trees Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25", date: "2025-12-11" },
                    { id: "T2TdszPVRBA", title: "Daydreaming - Radiohead, 11-dec-2025, Uber Arena Berlin", date: "2025-12-11" },
                    { id: "tfwbtTBHi3A", title: "Radiohead Let Down Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "eHXsn0chWaI", title: "Radiohead Daydreaming Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "3QN91i3KoH4", title: "Radiohead Ful Stop Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "bd5YFl6hMJQ", title: "Videotape - Radiohead, 11-dec-2025, Uber Arena Berlin", date: "2025-12-11" },
                    { id: "Yyf8ZOtDNqY", title: "Radiohead Bloom Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "at-e86I6SgU", title: "Radiohead - Nude live from Berlin 2025 (night 3)", date: "2025-12-11" },
                    { id: "A787FF2LQu4", title: "Radiohead Weird Idioteque Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "Xtz1NX0-m_c", title: "Radiohead - Lucky live from Berlin 2025 (night 3)", date: "2025-12-11" },
                    { id: "uQ_JuKl2ZnQ", title: "Radiohead - Kid A live from Berlin 2025 (night 3)", date: "2025-12-11" },
                    { id: "KD0BoQY5yHY", title: "Radiohead Nude Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "vn0aqQxasmY", title: "Radiohead Videotape Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "s0gUsWqMXxo", title: "Radiohead Kid A Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "IQNgR-mnL7w", title: "Radiohead live in Berlin - Myxomatosis - 9th December 2025 (night 2)", date: "2025-12-09" },
                    { id: "YrWNx2wMtVI", title: "Radiohead The Gloaming Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "iJR1lkRe0t8", title: "Radiohead 15 Step Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "dN_CQ7WZZeM", title: "Radiohead - Lucky, Live in Berlin 11/12/2025 Night 3", date: "2025-12-11" },
                    { id: "M-cTd-9DT6U", title: "Radiohead Lucky Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25 Night 3", date: "2025-12-11" },
                    { id: "u05EUkkn5L4", title: "Radiohead Sit Down Stand Up Live Uber Arena Berlin Germany December 11 2025 12/11/25 11.12.25", date: "2025-12-11" },
                    { id: "XTp1GWtt9VE", title: "Radiohead live in Berlin - Ful Stop - 9th December 2025 (night 2)", date: "2025-12-09" },

                ]
            }
        ];

        // --- NEW BACKGROUND IMAGES ARRAY ---
        const BACKGROUND_IMAGES = [
            'https://rsrc.wasteheadquarters.com/ZDlkOTQ0MzVjMzAwODJlMjZhNzg0MzE3/6_Bologna__RADIOHEAD_PHOTO_BY_ALEX_LAKE_TWOSHORTDAYS_9H0A2152.jpg',
            'https://rsrc.wasteheadquarters.com/YmFkM2U1YmNiZWQ0MWM2MzQ1ZDZkYmI2/7_Bologna__RADIOHEAD_PHOTO_BY_ALEX_LAKE_TWOSHORTDAYS_9H0A2071.jpg',
            'https://rsrc.wasteheadquarters.com/MzUyYjk5OTU3NjA0ZDQxNzBhZGYxNTlk/8_Bologna__RADIOHEAD_PHOTO_BY_ALEX_LAKE_TWOSHORTDAYS_9H0A1469.jpg',
            'https://rsrc.wasteheadquarters.com/ZGVmNzE5YWFiZmY5MTA2OWVhOWIwMzQw/1_Bologna__RADIOHEAD_PHOTO_BY_ALEX_LAKE_TWOSHORTDAYS_9H0A1453.jpg',
            'https://rsrc.wasteheadquarters.com/Yzk3ODY1NDg5ODMzZDY0Y2FlNTYzYWEy/2_Bologna__RADIOHEAD_PHOTO_BY_ALEX_LAKE_TWOSHORTDAYS_9H0A1696.jpg',
            'https://rsrc.wasteheadquarters.com/ODJhNjVkMWNjOGJmNWM4NzAwMzNmNjgw/4_Bologna__RADIOHEAD_PHOTO_BY_ALEX_LAKE_TWOSHORTDAYS_IMG_9442.jpg',
            'https://rsrc.wasteheadquarters.com/ZGIzNzNjY2Q0MDhkYzU0ZDM1ZmY4NTM3/5_Bologna__RADIOHEAD_PHOTO_BY_ALEX_LAKE_TWOSHORTDAYS_9H0A2569.jpg',
            'https://rsrc.wasteheadquarters.com/YWMzOGYwNmVjMWM3ZmU0MjM4MzQ2YjZl/9_Bologna__RADIOHEAD_PHOTO_BY_ALEX_LAKE_TWOSHORTDAYS_9H0A2126.jpg',
            'https://rsrc.wasteheadquarters.com/YTc4MzJhYTIwZWViNmJmY2JhMjY0ZmZh/10_Bologna__RADIOHEAD_PHOTO_BY_ALEX_LAKE_TWOSHORTDAYS_9H0A2258.jpg',
            'https://rsrc.wasteheadquarters.com/YjVhNzI1NDVkNmQ4NjUyNWRjYTE3NjI2/11_Bologna__RADIOHEAD_PHOTO_BY_ALEX_LAKE_TWOSHORTDAYS_9H0A1884.jpg'
        ];

        const appContainer = document.getElementById('app-container');
        const labelsContainer = document.getElementById('labels-container');
        const svgPath = document.getElementById('tour-path');

        // --- LOGIC FUNCTIONS ---

        /**
         * Returns only the manually entered videos.
         */
        function generateVideos(realVideos) {
            return realVideos;
        }

        function randomInt(min, max) { return Math.floor(Math.random() * (max - min + 1) + min); }

        // Check if device supports touch
        const isTouchDevice = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);

        // Handle touch-active class for showing titles on mobile
        function handleTouchStart(e) {
            // Remove touch-active from all other thumbs
            document.querySelectorAll('.thumb.touch-active').forEach(el => {
                if (el !== e.currentTarget) el.classList.remove('touch-active');
            });
            e.currentTarget.classList.add('touch-active');
        }

        function handleTouchEnd(e) {
            // Keep the class briefly so user can see title
            const thumb = e.currentTarget;
            setTimeout(() => thumb.classList.remove('touch-active'), 2000);
        }

        // --- CITY FILTER STATE ---
        let selectedCityIndex = null;

        function toggleCitySelection(index) {
            const cityLabels = document.querySelectorAll('.city-label-wrapper');
            const cityFilterEl = document.getElementById('city-filter');
            const dateFilterEl = document.getElementById('date-filter');
            const clearBtn = document.getElementById('clear-search-btn');
            const searchInput = document.getElementById('search-input');

            // If clicking the same city, deselect
            if (selectedCityIndex === index) {
                clearSearch();
                clearBtn.classList.remove('visible');
                return;
            }

            // Select new city - update dropdown and let performSearch handle thumb visibility
            selectedCityIndex = index;
            const cityName = CORE_TOUR_DATA[index].city;

            // Update labels
            cityLabels.forEach((label, i) => {
                if (i === index) {
                    label.classList.remove('dimmed');
                    label.classList.add('selected');
                } else {
                    label.classList.remove('selected');
                    label.classList.add('dimmed');
                }
            });

            // Sync dropdown and trigger filtering
            cityFilterEl.value = cityName;
            dateFilterEl.value = '';
            populateDateDropdown(cityName);
            if (searchInput) searchInput.value = '';
            performSearch('');
            clearBtn.classList.add('visible');
        }

        // --- SEARCH STATE ---
        let currentSearchTerm = '';

        function performSearch(term) {
            const searchTerm = term.trim().toLowerCase();
            const cityFilter = document.getElementById('city-filter').value;
            const dateFilter = document.getElementById('date-filter').value;
            const resultsCount = document.getElementById('search-results-count');
            const allThumbs = document.querySelectorAll('.thumb');

            // If no filters active, clear everything
            if (!searchTerm && !cityFilter && !dateFilter) {
                clearSearch();
                return;
            }

            currentSearchTerm = searchTerm;
            let matchCount = 0;

            allThumbs.forEach(thumb => {
                const title = (thumb.getAttribute('data-title') || '').toLowerCase();
                const thumbCity = thumb.getAttribute('data-city') || '';
                const thumbDate = thumb.getAttribute('data-date') || '';

                // Check all filter conditions
                const matchesSearch = !searchTerm || title.includes(searchTerm);
                const matchesCity = !cityFilter || thumbCity === cityFilter;
                const matchesDate = !dateFilter || thumbDate === dateFilter;

                if (matchesSearch && matchesCity && matchesDate) {
                    thumb.classList.add('search-match');
                    thumb.classList.remove('search-dimmed');
                    matchCount++;
                } else {
                    thumb.classList.remove('search-match');
                    thumb.classList.add('search-dimmed');
                }
            });

            resultsCount.textContent = `${matchCount} FOUND`;
        }

        function clearSearch(clearInput = true) {
            const allThumbs = document.querySelectorAll('.thumb');
            const cityLabels = document.querySelectorAll('.city-label-wrapper');
            const resultsCount = document.getElementById('search-results-count');
            const searchInput = document.getElementById('search-input');
            const cityFilter = document.getElementById('city-filter');
            const dateFilter = document.getElementById('date-filter');

            currentSearchTerm = '';

            allThumbs.forEach(thumb => {
                thumb.classList.remove('search-match', 'search-dimmed', 'city-dimmed', 'city-selected');
            });

            cityLabels.forEach(label => {
                label.classList.remove('dimmed', 'selected');
            });

            selectedCityIndex = null;
            resultsCount.textContent = '';

            if (clearInput) {
                if (searchInput) searchInput.value = '';
                if (cityFilter) cityFilter.value = '';
                if (dateFilter) dateFilter.value = '';
                // Repopulate date dropdown with all dates
                populateDateDropdown();
            }
        }

        // Populate date dropdown based on selected city (or all cities)
        function populateDateDropdown(cityName = '') {
            const dateFilterEl = document.getElementById('date-filter');
            if (!dateFilterEl) return;

            const currentDate = dateFilterEl.value;
            dateFilterEl.innerHTML = '<option value="">ALL DATES</option>';

            // Helper to format date as "DD.MM."
            function formatDate(date) {
                const d = new Date(date + 'T00:00:00');
                const day = d.getDate().toString().padStart(2, '0');
                const month = (d.getMonth() + 1).toString().padStart(2, '0');
                return `${day}.${month}.`;
            }

            const allDates = new Set();

            if (cityName) {
                // Single city selected - no groups needed
                const cityData = CORE_TOUR_DATA.find(c => c.city === cityName);
                if (cityData) {
                    const dates = new Set();
                    cityData.realVideos.forEach(video => {
                        if (video.date) dates.add(video.date);
                    });
                    Array.from(dates).sort().forEach(date => {
                        const option = document.createElement('option');
                        option.value = date;
                        option.textContent = formatDate(date);
                        dateFilterEl.appendChild(option);
                        allDates.add(date);
                    });
                }
            } else {
                // All cities - group by city
                CORE_TOUR_DATA.forEach(cityData => {
                    const dates = new Set();
                    cityData.realVideos.forEach(video => {
                        if (video.date) dates.add(video.date);
                    });

                    if (dates.size > 0) {
                        const optgroup = document.createElement('optgroup');
                        optgroup.label = cityData.city.toUpperCase();

                        Array.from(dates).sort().forEach(date => {
                            const option = document.createElement('option');
                            option.value = date;
                            option.textContent = formatDate(date);
                            optgroup.appendChild(option);
                            allDates.add(date);
                        });

                        dateFilterEl.appendChild(optgroup);
                    }
                });
            }

            // Restore selection if still valid
            if (currentDate && allDates.has(currentDate)) {
                dateFilterEl.value = currentDate;
            }
        }

        /**
         * Selects a random image from the BACKGROUND_IMAGES array and applies it to the background layer.
         */
        function setRandomBackground() {
            const bgLayer = document.getElementById('bg-layer');
            const randomIndex = Math.floor(Math.random() * BACKGROUND_IMAGES.length);
            const selectedUrl = BACKGROUND_IMAGES[randomIndex];
            bgLayer.style.backgroundImage = `url('${selectedUrl}')`;
        }

        // Process CORE_TOUR_DATA (run once)
        const tourData = CORE_TOUR_DATA.map(data => ({
            ...data,
            videos: generateVideos(data.realVideos)
        }));

        // --- THUMBNAIL SIZE CONSTANTS ---
        const MIN_WIDTH = 75; 
        const MIN_HEIGHT = 45; 
        const MAX_WIDTH = 150; 
        const MAX_HEIGHT = 90; 
        const ASPECT_RATIO = MIN_WIDTH / MIN_HEIGHT; 

        // --- Spiral Scaling Base Constants ---
        const BASE_MIN_RADIUS = 30; // Starting distance from city center (pixels at 1.0 scale)
        const BASE_SPREAD = 35;     // Distance increase between thumbnails (pixels at 1.0 scale)
        const BASE_HEIGHT_PX = 900; // Baseline height for a scale factor of 1.0

        // --- LAYOUT ENGINE ---
        
        // Using "Zones" to keep cities somewhat apart
        const zones = [
            { x: [15, 25], y: [15, 25] }, // Top Left
            { x: [45, 55], y: [45, 55] }, // Center
            { x: [75, 85], y: [15, 25] }, // Top Right
            { x: [15, 25], y: [65, 75] }, // Bottom Left
            { x: [75, 85], y: [65, 75] }  // Bottom Right
        ];
        
        const cityPositions = tourData.map((data, index) => {
            const zone = zones[index % zones.length];
            return {
                ...data,
                x: randomInt(zone.x[0], zone.x[1]), 
                y: randomInt(zone.y[0], zone.y[1])
            };
        });

        // --- RENDER FUNCTION ---
        function renderTourNodes() {
            // 1. Clear the containers before re-rendering
            appContainer.innerHTML = '';
            labelsContainer.innerHTML = '';

            // Preserve search state during re-render
            const preservedSearchTerm = currentSearchTerm;
            const preservedCityIndex = selectedCityIndex;

            // Reset selection state (will be restored after render)
            selectedCityIndex = null;
            
            // 2. Calculate dynamic scale factor based on viewport size
            const rawScale = window.innerHeight / BASE_HEIGHT_PX;
            const isMobile = window.innerWidth < 768;
            const isSmallPhone = window.innerWidth < 400;

            // More aggressive scaling reduction on mobile
            let scaleFactor;
            if (isSmallPhone) {
                scaleFactor = Math.max(0.35, rawScale * 0.5);
            } else if (isMobile) {
                scaleFactor = Math.max(0.45, rawScale * 0.7);
            } else {
                scaleFactor = Math.max(0.8, rawScale * 1.2);
            }

            // 3. Apply scale factor to base constants
            const spread = BASE_SPREAD * scaleFactor;
            const minRadius = BASE_MIN_RADIUS * scaleFactor;

            // 4. Calculate max radius to prevent overflow on mobile
            const maxRadius = isMobile ? Math.min(window.innerWidth, window.innerHeight) * 0.35 : Infinity; 

            // Get viewport dimensions for absolute positioning
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;

            cityPositions.forEach((city, index) => {
                // Calculate city center in pixels
                const cityCenterX = (city.x / 100) * viewportWidth;
                const cityCenterY = (city.y / 100) * viewportHeight;

                // A. Add Label (Name + Date) -> APPEND TO LABELS CONTAINER
                const label = document.createElement('div');
                label.className = 'city-label-wrapper';
                label.style.left = `${city.x}%`;
                label.style.top = `${city.y}%`;

                label.innerHTML = `
                    <div class="city-date">${city.dates}</div>
                    <div class="city-name">${city.city}</div>
                `;

                // Click handler for city filtering
                label.addEventListener('click', () => toggleCitySelection(index));

                labelsContainer.appendChild(label);

                // B. GENERATE SPIRAL - thumbs go directly into appContainer
                const goldenAngle = 137.508;

                city.videos.forEach((video, vIndex) => {
                    const thumb = document.createElement('div');
                    thumb.className = 'thumb';

                    // Track which city this thumb belongs to (for filtering)
                    thumb.setAttribute('data-city-index', index);
                    thumb.setAttribute('data-city', city.city);
                    thumb.setAttribute('data-date', video.date || '');

                    // --- ACCESSIBILITY ---
                    thumb.setAttribute('role', 'button');
                    thumb.setAttribute('tabindex', '0');
                    thumb.setAttribute('aria-label', `Play video: ${video.title}`);

                    // --- RANDOM SIZE CALCULATION (smaller on mobile) ---
                    const randomFactor = Math.random();
                    const mobileWidthScale = isSmallPhone ? 0.5 : (isMobile ? 0.65 : 1);
                    const baseWidth = MIN_WIDTH + (MAX_WIDTH - MIN_WIDTH) * randomFactor;
                    const randomWidth = baseWidth * mobileWidthScale;
                    const randomHeight = randomWidth / ASPECT_RATIO;

                    thumb.style.width = `${randomWidth}px`;
                    thumb.style.height = `${randomHeight}px`;

                    // Spiral Math - calculate absolute position
                    const angle = vIndex * goldenAngle * (Math.PI / 180);
                    const rawRadius = minRadius + (spread * Math.sqrt(vIndex));
                    const radius = Math.min(rawRadius, maxRadius);

                    const offsetX = Math.cos(angle) * radius;
                    const offsetY = Math.sin(angle) * radius;

                    // Position absolutely from city center
                    const thumbX = cityCenterX + offsetX;
                    const thumbY = cityCenterY + offsetY;

                    thumb.style.left = `${thumbX}px`;
                    thumb.style.top = `${thumbY}px`;
                    thumb.style.transform = `translate(-50%, -50%) rotate(${randomInt(-5, 5)}deg)`;

                    // Data
                    thumb.setAttribute('data-title', video.title);
                    thumb.style.backgroundImage = `url('https://img.youtube.com/vi/${video.id}/hqdefault.jpg')`;

                    // Interaction - click
                    thumb.onclick = (e) => {
                        e.stopPropagation();
                        openOverlay(video.id);
                    };

                    // Interaction - keyboard (Enter/Space)
                    thumb.onkeydown = (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            e.stopPropagation();
                            openOverlay(video.id);
                        }
                    };

                    // Touch events for showing title on mobile
                    if (isTouchDevice) {
                        thumb.addEventListener('touchstart', handleTouchStart, { passive: true });
                        thumb.addEventListener('touchend', handleTouchEnd, { passive: true });
                    }

                    appContainer.appendChild(thumb);
                });
            });

            // Ensure connectors are drawn after nodes are in the DOM
            drawLines();

            // Restore search/filter state after re-render
            if (preservedSearchTerm) {
                currentSearchTerm = preservedSearchTerm;
                performSearch(preservedSearchTerm);
            } else if (preservedCityIndex !== null) {
                toggleCitySelection(preservedCityIndex);
            }
        }


        // --- CONNECTORS ---
        function drawLines() {
            let pathD = "";
            const width = window.innerWidth;
            const height = window.innerHeight;

            cityPositions.forEach((city, i) => {
                const cx = (city.x / 100) * width;
                const cy = (city.y / 100) * height;

                if (i === 0) {
                    pathD += `M ${cx} ${cy} `;
                } else {
                    const prevX = (cityPositions[i-1].x / 100) * width;
                    const prevY = (cityPositions[i-1].y / 100) * height;
                    
                    // Jagged / Glitchy Line connection
                    pathD += `L ${prevX} ${prevY} L ${cx} ${cy} `;
                }
            });
            svgPath.setAttribute('d', pathD);
        }

        // --- OVERLAY LOGIC ---
        const overlay = document.getElementById('video-overlay');
        const playerContainer = document.getElementById('player-placeholder');
        let ytPlayer = null;
        let currentVideoId = null;

        // Collect all video IDs from tour data
        function getAllVideoIds() {
            const ids = [];
            tourData.forEach(city => {
                city.videos.forEach(video => {
                    ids.push(video.id);
                });
            });
            return ids;
        }

        // Get random video ID (excluding current)
        function getRandomVideoId(excludeId) {
            const allIds = getAllVideoIds();
            const filtered = allIds.filter(id => id !== excludeId);
            return filtered[Math.floor(Math.random() * filtered.length)];
        }

        // YouTube API callback
        function onYouTubeIframeAPIReady() {
            // API is ready, player will be created when opening overlay
        }

        // Handle player state changes
        function onPlayerStateChange(event) {
            // State 0 = ended
            if (event.data === YT.PlayerState.ENDED) {
                const nextVideoId = getRandomVideoId(currentVideoId);
                currentVideoId = nextVideoId;
                ytPlayer.loadVideoById(nextVideoId);
            }
        }

        function openOverlay(videoId) {
            // Reset any scroll position on mobile
            window.scrollTo(0, 0);
            overlay.scrollTo(0, 0);
            overlay.style.display = 'flex';
            currentVideoId = videoId;

            // Destroy existing player if any
            if (ytPlayer) {
                ytPlayer.destroy();
                ytPlayer = null;
            }

            // Create new player with YouTube API
            ytPlayer = new YT.Player('player-placeholder', {
                videoId: videoId,
                playerVars: {
                    autoplay: 1,
                    theme: 'dark',
                    color: 'white',
                    rel: 0
                },
                events: {
                    onStateChange: onPlayerStateChange
                }
            });
        }

        document.getElementById('close-btn').onclick = () => {
            overlay.style.display = 'none';
            if (ytPlayer) {
                ytPlayer.destroy();
                ytPlayer = null;
            }
            currentVideoId = null;
        };

        // --- INIT ---
        function initializeMap() {
            setRandomBackground();
            renderTourNodes();
            // Rerun rendering on resize to recalculate spread
            window.addEventListener('resize', renderTourNodes);
            // Handle orientation changes on mobile devices
            window.addEventListener('orientationchange', () => {
                // Small delay to let the browser update dimensions
                setTimeout(renderTourNodes, 100);
            });

            // Search bar event listeners
            const searchInput = document.getElementById('search-input');
            const searchBtn = document.getElementById('search-btn');
            const clearBtn = document.getElementById('clear-search-btn');
            const cityFilterEl = document.getElementById('city-filter');
            const dateFilterEl = document.getElementById('date-filter');

            searchBtn.addEventListener('click', () => {
                performSearch(searchInput.value);
            });

            clearBtn.addEventListener('click', () => {
                clearSearch();
                updateClearButtonState();
            });

            // Update clear button visibility based on filter state
            function updateClearButtonState() {
                const hasFilters = searchInput.value || cityFilterEl.value || dateFilterEl.value;
                clearBtn.classList.toggle('visible', !!hasFilters);
            }

            // Initialize date dropdown with all dates
            populateDateDropdown();

            // Sync city labels with dropdown selection (labels only, performSearch handles thumbs)
            function syncCityLabelsWithDropdown(cityName) {
                const cityLabels = document.querySelectorAll('.city-label-wrapper');

                if (!cityName) {
                    selectedCityIndex = null;
                    cityLabels.forEach(label => {
                        label.classList.remove('dimmed', 'selected');
                    });
                } else {
                    const cityIndex = CORE_TOUR_DATA.findIndex(c => c.city === cityName);
                    if (cityIndex >= 0) {
                        selectedCityIndex = cityIndex;
                        cityLabels.forEach((label, i) => {
                            if (i === cityIndex) {
                                label.classList.remove('dimmed');
                                label.classList.add('selected');
                            } else {
                                label.classList.remove('selected');
                                label.classList.add('dimmed');
                            }
                        });
                    }
                }
            }

            // Trigger search when filters change
            cityFilterEl.addEventListener('change', () => {
                populateDateDropdown(cityFilterEl.value);
                syncCityLabelsWithDropdown(cityFilterEl.value);
                performSearch(searchInput.value);
                updateClearButtonState();
            });

            dateFilterEl.addEventListener('change', () => {
                performSearch(searchInput.value);
                updateClearButtonState();
            });

            searchInput.addEventListener('input', () => {
                updateClearButtonState();
            });

            searchInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    performSearch(searchInput.value);
                }
                if (e.key === 'Escape') {
                    clearSearch();
                    updateClearButtonState();
                }
            });

            // Chat panel toggle
            const chatToggleBtn = document.getElementById('chat-toggle-btn');
            const chatPanel = document.getElementById('chat-panel');
            const chatCloseBtn = document.getElementById('chat-close-btn');

            chatToggleBtn.addEventListener('click', () => {
                chatPanel.classList.toggle('open');
                chatToggleBtn.classList.toggle('active');
            });

            chatCloseBtn.addEventListener('click', () => {
                chatPanel.classList.remove('open');
                chatToggleBtn.classList.remove('active');
            });

            // Close chat with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && chatPanel.classList.contains('open')) {
                    chatPanel.classList.remove('open');
                    chatToggleBtn.classList.remove('active');
                }
            });

            // Keep hovered elements on top (z-index only, cumulative)
            let topZIndex = 100;

            // For thumbs
            appContainer.addEventListener('mouseenter', (e) => {
                if (e.target.classList.contains('thumb')) {
                    topZIndex++;
                    e.target.style.zIndex = topZIndex;
                }
            }, true);

            // For city labels
            labelsContainer.addEventListener('mouseenter', (e) => {
                const label = e.target.closest('.city-label-wrapper');
                if (label) {
                    topZIndex++;
                    label.style.zIndex = topZIndex;
                }
            }, true);
        }

        initializeMap();

        // --- CTA CLOUD OVERLAY LOGIC ---
        (function initCtaCloud() {
            const CTA_STORAGE_KEY = 'rh2025_cta_dismissed';
            const SEVEN_DAYS_MS = 7 * 24 * 60 * 60 * 1000; // 7 days in milliseconds

            const ctaOverlay = document.getElementById('cta-cloud-overlay');
            const dismissBtn = document.getElementById('cloud-dismiss-btn');
            const exploreBtn = document.getElementById('cloud-explore-btn');
            const cloudClickable = document.getElementById('comic-cloud-clickable');

            function shouldShowCta() {
                const dismissedTime = localStorage.getItem(CTA_STORAGE_KEY);

                // Never shown before - show it
                if (!dismissedTime) {
                    return true;
                }

                // Check if 7 days have passed
                const now = Date.now();
                const timeSinceDismiss = now - parseInt(dismissedTime, 10);

                return timeSinceDismiss >= SEVEN_DAYS_MS;
            }

            function dismissCta() {
                // Store current timestamp
                localStorage.setItem(CTA_STORAGE_KEY, Date.now().toString());

                // Fade out animation
                ctaOverlay.style.animation = 'ctaFadeIn 0.3s ease-out reverse';
                setTimeout(() => {
                    ctaOverlay.style.display = 'none';
                }, 280);
            }

            function showCta() {
                ctaOverlay.style.display = 'flex';
            }

            // Event listeners
            dismissBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                dismissCta();
            });

            exploreBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                dismissCta();
            });

            // Clicking outside the cloud dismisses it
            ctaOverlay.addEventListener('click', (e) => {
                if (e.target === ctaOverlay) {
                    dismissCta();
                }
            });

            // Escape key dismisses
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && ctaOverlay.style.display === 'flex') {
                    dismissCta();
                }
            });

            // Check and show on load
            if (shouldShowCta()) {
                // Small delay for better UX - let the page load first
                setTimeout(showCta, 800);
            }
        })();

    </script>

    <!-- YouTube IFrame API -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <!-- Data Hypo Tracking Code -->
<script>
  (function () {
    var script = document.createElement('script');
    script.async = true; // Use async as in your original code.
    script.src = "https://analytics.datahypo.com/js/client-tracker.js?userGuid=9a8ba37a-602c-4e3d-b018-5db5378d2050";
    document.head.appendChild(script);
  })();
</script>
<!-- End Data Hypo Tracking Code -->

<!-- Ably Realtime for Online Counter -->
<script src="https://cdn.ably.com/lib/ably.min-1.js"></script>
<script>
(function() {
    // Replace with your Ably API key (get free at ably.com)
    const ABLY_API_KEY = 'qFaqcA.MFCFEg:U5B_nuSpwaCpk4NsO-8qRAGv2LC8uMY23YsRus8FnyQ';

    const onlineCountEl = document.getElementById('online-count');

    // Check if API key is configured
    if (ABLY_API_KEY === 'YOUR_ABLY_API_KEY') {
        onlineCountEl.textContent = '1'; // Show at least 1 (current user)
        console.log('Ably API key not configured. Get a free key at https://ably.com');
        return;
    }

    try {
        const ably = new Ably.Realtime({
            key: ABLY_API_KEY,
            clientId: 'visitor-' + Math.random().toString(36).substr(2, 9)
        });

        const channel = ably.channels.get('radiohead-2025-presence');

        channel.presence.subscribe('enter', updateCount);
        channel.presence.subscribe('leave', updateCount);

        channel.presence.enter();

        function updateCount() {
            channel.presence.get((err, members) => {
                if (!err && members) {
                    onlineCountEl.textContent = members.length;
                }
            });
        }

        // Initial count
        updateCount();

        // Cleanup on page leave
        window.addEventListener('beforeunload', () => {
            channel.presence.leave();
        });

    } catch (e) {
        onlineCountEl.textContent = '1';
        console.error('Ably connection error:', e);
    }
})();
</script>
</body>
</html>
